
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Module8/">
      
      
        <link rel="next" href="../Module12/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Module 9 - Feedback Control - Cyber-Physical Systems</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#feedback-control-in-cyber-physical-systems-cps" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Cyber-Physical Systems" class="md-header__button md-logo" aria-label="Cyber-Physical Systems" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cyber-Physical Systems
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Module 9 - Feedback Control
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../Module0/" class="md-tabs__link">
          
  
  
  Notes

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../pages/LectureSlides/" class="md-tabs__link">
        
  
  
    
  
  Lecture Slides

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../labs/Lab0/Lab0/" class="md-tabs__link">
          
  
  
  Labs

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../case_studies/RedLightCameraNIST/" class="md-tabs__link">
          
  
  
  Case Studies

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../pages/rubric/" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../in_class_examples/actuators/actuator_control/" class="md-tabs__link">
          
  
  
  In Class Examples

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Cyber-Physical Systems" class="md-nav__button md-logo" aria-label="Cyber-Physical Systems" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Cyber-Physical Systems
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 0 - Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 1 - Computational Systems
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 2 - Computer Architecture and Programming Languages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 3 - Wired Communication Protocols
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 4 - Wireless Communication Protocols
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 5 - Communication Networks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 6 - Sensors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 7 - Actuators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 8 - State Estimation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Module 9 - Feedback Control
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Module 9 - Feedback Control
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-components-of-feedback-control" class="md-nav__link">
    <span class="md-ellipsis">
      Key Components of Feedback Control
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Components of Feedback Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-plant-system-to-be-controlled" class="md-nav__link">
    <span class="md-ellipsis">
      1. Plant (System to be Controlled)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reference-input-setpoint" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reference Input (Setpoint)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-sensor-measurement-system" class="md-nav__link">
    <span class="md-ellipsis">
      3. Sensor (Measurement System)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-controller-control-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      4. Controller (Control Algorithm)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-actuator" class="md-nav__link">
    <span class="md-ellipsis">
      5. Actuator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-error-signal" class="md-nav__link">
    <span class="md-ellipsis">
      6. Error Signal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-feedback-loop" class="md-nav__link">
    <span class="md-ellipsis">
      7. Feedback Loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-disturbances-and-noise" class="md-nav__link">
    <span class="md-ellipsis">
      8. Disturbances and Noise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-computational-system" class="md-nav__link">
    <span class="md-ellipsis">
      9. Computational System
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proportional-integral-derivative-pid-control" class="md-nav__link">
    <span class="md-ellipsis">
      Proportional-Integral-Derivative (PID) Control
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Proportional-Integral-Derivative (PID) Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-pid-equation-continuous-time" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 PID Equation (Continuous Time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-pid-equation-discrete-time" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 PID Equation (Discrete Time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-roles-of-each-term" class="md-nav__link">
    <span class="md-ellipsis">
      2. Roles of Each Term
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-proportional-p" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Proportional (P)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-integral-i" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Integral (I)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-derivative-d" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Derivative (D)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#31-numerical-implementation-of-integrals-and-derivatives" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Numerical Implementation of Integrals and Derivatives
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 Numerical Implementation of Integrals and Derivatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integral" class="md-nav__link">
    <span class="md-ellipsis">
      Integral
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#derivative" class="md-nav__link">
    <span class="md-ellipsis">
      Derivative
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-integrator-windup" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Integrator Windup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-control-loop-timing" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Control Loop Timing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Control Loop Timing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sampling-rate-relative-to-system-dynamics" class="md-nav__link">
    <span class="md-ellipsis">
      Sampling Rate Relative to System Dynamics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real-time-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Real-Time Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-example-pid-structure-pseudocode" class="md-nav__link">
    <span class="md-ellipsis">
      4. Example PID Structure (Pseudocode)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      5. Key Takeaways
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#state-space-control" class="md-nav__link">
    <span class="md-ellipsis">
      State-Space Control
    </span>
  </a>
  
    <nav class="md-nav" aria-label="State-Space Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-what-is-state-space-control" class="md-nav__link">
    <span class="md-ellipsis">
      1. What is State-Space Control?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-continuous-time-state-space-representation" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Continuous-Time State-Space Representation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-discrete-time-state-space-representation" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Discrete-Time State-Space Representation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-state-feedback-control" class="md-nav__link">
    <span class="md-ellipsis">
      3. State Feedback Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#31-closed-loop-dynamics" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Closed-Loop Dynamics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-designing-the-gain-matrix-k" class="md-nav__link">
    <span class="md-ellipsis">
      4. Designing the Gain Matrix \(K\)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Designing the Gain Matrix \(K\)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pole-placement" class="md-nav__link">
    <span class="md-ellipsis">
      Pole Placement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linear-quadratic-regulator-lqr" class="md-nav__link">
    <span class="md-ellipsis">
      Linear Quadratic Regulator (LQR)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-state-estimation-and-observers" class="md-nav__link">
    <span class="md-ellipsis">
      5. State Estimation and Observers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#51-luenberger-observer" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Luenberger Observer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-kalman-filter" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Kalman Filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-practical-implications-for-cps" class="md-nav__link">
    <span class="md-ellipsis">
      6. Practical Implications for CPS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      7. Extensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-adaptive-control" class="md-nav__link">
    <span class="md-ellipsis">
      3. Adaptive Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-robust-control" class="md-nav__link">
    <span class="md-ellipsis">
      4. Robust Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-model-predictive-control-mpc" class="md-nav__link">
    <span class="md-ellipsis">
      5. Model Predictive Control (MPC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-event-based-or-self-triggered-control" class="md-nav__link">
    <span class="md-ellipsis">
      6. Event-Based or Self-Triggered Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-distributed-or-decentralized-control" class="md-nav__link">
    <span class="md-ellipsis">
      7. Distributed or Decentralized Control
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Module12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 12 - Systems of Sensors and Actuators
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/LectureSlides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture Slides
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Labs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/Lab0/Lab0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 0 - Programming Languages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/Lab1/Lab1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 1 - Wired Communication Protocols
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/Lab2/Lab2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 2 - Wireless Communication Protocols
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/Lab3/Lab3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 3 - Sensors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/Lab4/Lab4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 4 - Actuators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/Lab5/Lab5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 5 - Signal Processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/Lab6/Lab6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 6 - Computer Vision
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/Lab7/Lab7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 7 - Putting it all Together
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Case Studies
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Case Studies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../case_studies/RedLightCameraNIST/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Case Study 1 - Traffic Light Cameras
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../case_studies/DigitalTwins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Case Study 2 - Digital Twins in Gardening & Greenhouses
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/rubric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Report Writing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/zero_tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Raspberry Pi Zero
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/zero_wifi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raspberry Pi Zero Wifi Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/pip_apt_tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro to Apt and Pip
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/async_tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asynchronous Programming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/webrtc_tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebRTC Video Streaming
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    In Class Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            In Class Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/actuators/actuator_control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Actuator Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/computer_vision/computer_vision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computer Vision
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/control/control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Control Theory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/filtering/filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filtering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/interrupts/interrupts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hardware Interrupts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/RANSAC/RANSAC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Random Sampling Consensus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/signal_processing/signal_processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Signal Processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/thingspeak/thingspeak/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IoT - ThingSpeak
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../in_class_examples/MQTT/mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IoT - MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-components-of-feedback-control" class="md-nav__link">
    <span class="md-ellipsis">
      Key Components of Feedback Control
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Components of Feedback Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-plant-system-to-be-controlled" class="md-nav__link">
    <span class="md-ellipsis">
      1. Plant (System to be Controlled)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reference-input-setpoint" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reference Input (Setpoint)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-sensor-measurement-system" class="md-nav__link">
    <span class="md-ellipsis">
      3. Sensor (Measurement System)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-controller-control-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      4. Controller (Control Algorithm)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-actuator" class="md-nav__link">
    <span class="md-ellipsis">
      5. Actuator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-error-signal" class="md-nav__link">
    <span class="md-ellipsis">
      6. Error Signal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-feedback-loop" class="md-nav__link">
    <span class="md-ellipsis">
      7. Feedback Loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-disturbances-and-noise" class="md-nav__link">
    <span class="md-ellipsis">
      8. Disturbances and Noise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-computational-system" class="md-nav__link">
    <span class="md-ellipsis">
      9. Computational System
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proportional-integral-derivative-pid-control" class="md-nav__link">
    <span class="md-ellipsis">
      Proportional-Integral-Derivative (PID) Control
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Proportional-Integral-Derivative (PID) Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-pid-equation-continuous-time" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 PID Equation (Continuous Time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-pid-equation-discrete-time" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 PID Equation (Discrete Time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-roles-of-each-term" class="md-nav__link">
    <span class="md-ellipsis">
      2. Roles of Each Term
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-proportional-p" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Proportional (P)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-integral-i" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Integral (I)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-derivative-d" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Derivative (D)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#31-numerical-implementation-of-integrals-and-derivatives" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Numerical Implementation of Integrals and Derivatives
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 Numerical Implementation of Integrals and Derivatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integral" class="md-nav__link">
    <span class="md-ellipsis">
      Integral
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#derivative" class="md-nav__link">
    <span class="md-ellipsis">
      Derivative
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-integrator-windup" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Integrator Windup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-control-loop-timing" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Control Loop Timing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Control Loop Timing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sampling-rate-relative-to-system-dynamics" class="md-nav__link">
    <span class="md-ellipsis">
      Sampling Rate Relative to System Dynamics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real-time-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Real-Time Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-example-pid-structure-pseudocode" class="md-nav__link">
    <span class="md-ellipsis">
      4. Example PID Structure (Pseudocode)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      5. Key Takeaways
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#state-space-control" class="md-nav__link">
    <span class="md-ellipsis">
      State-Space Control
    </span>
  </a>
  
    <nav class="md-nav" aria-label="State-Space Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-what-is-state-space-control" class="md-nav__link">
    <span class="md-ellipsis">
      1. What is State-Space Control?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-continuous-time-state-space-representation" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Continuous-Time State-Space Representation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-discrete-time-state-space-representation" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Discrete-Time State-Space Representation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-state-feedback-control" class="md-nav__link">
    <span class="md-ellipsis">
      3. State Feedback Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#31-closed-loop-dynamics" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Closed-Loop Dynamics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-designing-the-gain-matrix-k" class="md-nav__link">
    <span class="md-ellipsis">
      4. Designing the Gain Matrix \(K\)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Designing the Gain Matrix \(K\)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pole-placement" class="md-nav__link">
    <span class="md-ellipsis">
      Pole Placement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linear-quadratic-regulator-lqr" class="md-nav__link">
    <span class="md-ellipsis">
      Linear Quadratic Regulator (LQR)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-state-estimation-and-observers" class="md-nav__link">
    <span class="md-ellipsis">
      5. State Estimation and Observers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#51-luenberger-observer" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Luenberger Observer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-kalman-filter" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Kalman Filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-practical-implications-for-cps" class="md-nav__link">
    <span class="md-ellipsis">
      6. Practical Implications for CPS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      7. Extensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-adaptive-control" class="md-nav__link">
    <span class="md-ellipsis">
      3. Adaptive Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-robust-control" class="md-nav__link">
    <span class="md-ellipsis">
      4. Robust Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-model-predictive-control-mpc" class="md-nav__link">
    <span class="md-ellipsis">
      5. Model Predictive Control (MPC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-event-based-or-self-triggered-control" class="md-nav__link">
    <span class="md-ellipsis">
      6. Event-Based or Self-Triggered Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-distributed-or-decentralized-control" class="md-nav__link">
    <span class="md-ellipsis">
      7. Distributed or Decentralized Control
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="feedback-control-in-cyber-physical-systems-cps">Feedback Control in Cyber-Physical Systems (CPS)</h1>
<h2 id="key-components-of-feedback-control">Key Components of Feedback Control</h2>
<h3 id="1-plant-system-to-be-controlled">1. Plant (System to be Controlled)</h3>
<p><strong>Definition and Role</strong><br />
The plant is the physical system or process that we want to control. In CPS, the plant could be anything from a robotic arm, autonomous vehicle, smart building HVAC system, to a chemical process in a manufacturing plant.</p>
<p><strong>CPS Context</strong><br />
- The plant typically has dynamics governed by physics (e.g., mechanical, electrical, thermal).<br />
- It interacts with the environment and may experience significant external disturbances.<br />
- In a CPS, the plant’s operational details are often digitized via sensors and fed to a controller.</p>
<h3 id="2-reference-input-setpoint">2. Reference Input (Setpoint)</h3>
<p><strong>Definition and Role</strong><br />
The reference input, or setpoint, is the desired goal or target state for the plant’s output.</p>
<p><strong>CPS Context</strong><br />
- The reference may be set by a user or a higher-level system.<br />
- In CPS, references can change dynamically based on context or autonomy.</p>
<h3 id="3-sensor-measurement-system">3. Sensor (Measurement System)</h3>
<p><strong>Definition and Role</strong><br />
Sensors provide measurements of relevant physical quantities. These are used in feedback loops to estimate system state.</p>
<p><strong>CPS Context</strong><br />
- Sensors convert physical signals into digital data via ADCs.<br />
- Examples include IMUs, thermocouples, GPS modules, etc.<br />
- Communication may occur via I2C, SPI, UART, or wireless methods.<br />
- Sensor data can be noisy or delayed due to hardware/software limitations.</p>
<h3 id="4-controller-control-algorithm">4. Controller (Control Algorithm)</h3>
<p><strong>Definition and Role</strong><br />
The controller calculates the control signal to drive the plant toward the setpoint based on the error signal.</p>
<p><strong>CPS Context</strong><br />
- Implemented on microcontrollers, SBCs, or FPGAs.<br />
- Chosen algorithms depend on system complexity, performance, and resource constraints.<br />
- Controllers may include decision-making or learning components.</p>
<h3 id="5-actuator">5. Actuator</h3>
<p><strong>Definition and Role</strong><br />
Actuators convert control signals into physical actions.</p>
<p><strong>CPS Context</strong><br />
- Examples: motors, pumps, valves, heaters.<br />
- Actuated using PWM, DAC, or digital I/O.<br />
- Interface must be carefully managed to ensure fast, accurate response.</p>
<h3 id="6-error-signal">6. Error Signal</h3>
<p><strong>Definition and Role</strong><br />
The error signal is defined as:</p>
<p><code>e(t) = r(t) - y(t)</code></p>
<p>Where:
- <code>r(t)</code> is the reference input
- <code>y(t)</code> is the measured output</p>
<p><strong>CPS Context</strong><br />
- Drives the control computation.<br />
- May be scalar or vector-valued in MIMO systems.<br />
- Computed in real time, possibly across a distributed system.</p>
<h3 id="7-feedback-loop">7. Feedback Loop</h3>
<p><strong>Definition and Role</strong><br />
A closed-loop system where output measurements influence the input through the controller.</p>
<p><strong>CPS Context</strong><br />
- May span multiple nodes (e.g., cloud-controller with remote sensors).<br />
- Must consider communication latency and synchronization.<br />
- Timing guarantees are critical for stability and performance.</p>
<h3 id="8-disturbances-and-noise">8. Disturbances and Noise</h3>
<p><strong>Definition and Role</strong><br />
Disturbances are unmodeled external inputs; noise is unwanted variability in measurements.</p>
<p><strong>CPS Context</strong><br />
- Sources: environmental factors, communication errors, hardware limitations.<br />
- Requires robust controller design and filtering (e.g., Kalman filters).</p>
<h3 id="9-computational-system">9. Computational System</h3>
<p><strong>Definition and Role</strong><br />
The digital platform that executes control logic and coordinates sensing/actuation.</p>
<p><strong>CPS Context</strong><br />
- Real-time constraints (e.g., hard deadlines).<br />
- Implemented on microcontrollers, FPGAs, or distributed cloud systems.<br />
- Use of real-time OS (e.g., FreeRTOS) to manage scheduling and latency.</p>
<h2 id="proportional-integral-derivative-pid-control">Proportional-Integral-Derivative (PID) Control</h2>
<p>PID control is a classical control strategy used to regulate the output of a system to a desired reference (setpoint). It combines three terms—proportional, integral, and derivative—to adjust the control input based on the error between the measured output and the reference.</p>
<h3 id="11-pid-equation-continuous-time">1.1 PID Equation (Continuous Time)</h3>
<p>The PID controller output <span class="arithmatex">\(u(t)\)</span> is defined as:</p>
<div class="arithmatex">\[
u(t) = K_p e(t) + K_i \int_{0}^{t} e(\tau)\,d\tau + K_d \frac{d}{dt} e(t),
\]</div>
<p>where:
- <span class="arithmatex">\(e(t) = r(t) - y(t)\)</span> is the error (the difference between the reference <span class="arithmatex">\(r(t)\)</span> and the measured output <span class="arithmatex">\(y(t)\)</span>).
- <span class="arithmatex">\(K_p\)</span> is the proportional gain.
- <span class="arithmatex">\(K_i\)</span> is the integral gain.
- <span class="arithmatex">\(K_d\)</span> is the derivative gain.</p>
<h3 id="12-pid-equation-discrete-time">1.2 PID Equation (Discrete Time)</h3>
<p>In a digital implementation, the controller calculates values at discrete time steps $ t = nT_s $, where $ T_s $ is the sampling period. A common discrete approximation is:</p>
<div class="arithmatex">\[
u[n] = K_p e[n] + K_i T_s \sum_{k=0}^{n} e[k] + K_d \frac{e[n] - e[n-1]}{T_s}.
\]</div>
<p>These integrals and derivatives are approximated numerically. Additional refinements (such as filters on the derivative term) can be applied to improve performance and stability.</p>
<hr />
<h3 id="2-roles-of-each-term">2. Roles of Each Term</h3>
<p>Each PID term handles a different aspect of the control action:</p>
<h3 id="21-proportional-p">2.1 Proportional (P)</h3>
<ul>
<li><strong>Function</strong>: Produces an output that is directly proportional to the current error <span class="arithmatex">\(e(t)\)</span>.</li>
<li><strong>Effect</strong>: A large proportional gain $ K_p $ improves the responsiveness of the system but can cause overshoot and oscillations if set too high.</li>
</ul>
<h3 id="22-integral-i">2.2 Integral (I)</h3>
<ul>
<li><strong>Function</strong>: Accumulates past error, effectively summing up the area under the error curve over time.</li>
<li><strong>Effect</strong>: Helps eliminate steady-state error by increasing the control output until the error is driven to zero. However, excessive integral gain $ K_i $ can lead to slow response and overshoot, and may cause integrator windup.</li>
</ul>
<h3 id="23-derivative-d">2.3 Derivative (D)</h3>
<ul>
<li><strong>Function</strong>: Reacts to the rate of change of the error, effectively predicting the future trend of the error.</li>
<li><strong>Effect</strong>: Helps dampen oscillations and anticipate overshoots. However, it is sensitive to noise because sudden changes in the measured error can amplify the derivative term. Often, a low-pass filter is applied to the derivative term to mitigate noise issues.</li>
</ul>
<h3 id="31-numerical-implementation-of-integrals-and-derivatives">3.1 Numerical Implementation of Integrals and Derivatives</h3>
<h4 id="integral">Integral</h4>
<p>A common approach to implementing the integral term in code is to accumulate the error in a variable at each sample time:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">// Pseudocode for the integral term</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">accumulatedError</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">e</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Ts</span><span class="p">;</span><span class="w">  </span><span class="c1">// approximate integral by summing error over time</span>
</span></code></pre></div>
<h4 id="derivative">Derivative</h4>
<p>The derivative is typically approximated using a finite difference method:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">// Pseudocode for the derivative term</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">derivative</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">e</span><span class="p">[</span><span class="n">n</span><span class="mi">-1</span><span class="p">])</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Ts</span><span class="p">;</span>
</span></code></pre></div>
<p>To reduce noise amplification, a filtered derivative may be used:</p>
<p><div class="language-cpp highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">// Pseudocode using a low-pass filter for the derivative term</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">derivativeRaw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">e</span><span class="p">[</span><span class="n">n</span><span class="mi">-1</span><span class="p">])</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Ts</span><span class="p">;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">derivativeFiltered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">derivativeFiltered</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">alpha</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">derivativeRaw</span><span class="p">;</span>
</span></code></pre></div>
where <code>0 &lt; alpha &lt; 1</code> controls the filtering aggressiveness.</p>
<h3 id="32-integrator-windup">3.2 Integrator Windup</h3>
<p><strong>Definition:</strong><br />
Integrator windup occurs when the integral term accumulates a large error during periods when the control output is saturated by hardware limits (e.g., maximum voltage to a motor). When the error subsequently changes sign, the large accumulated integral term can cause excessive overshoot or sluggish recovery.</p>
<p><strong>Mitigation Strategies:</strong></p>
<ol>
<li><strong>Integral Clamping (Saturation):</strong></li>
<li>Monitor the control output for saturation.</li>
<li>
<p>Prevent further accumulation of the integral term when limits are reached.</p>
</li>
<li>
<p><strong>Anti-Windup Back-Calculation:</strong></p>
</li>
<li>Calculate the discrepancy between the computed control signal and the actual saturated output.</li>
<li>
<p>Adjust the integrator to account for this difference.</p>
</li>
<li>
<p><strong>Conditional Integration:</strong></p>
</li>
<li>Only integrate when the control output is not at the saturation limit, or when the error maintains the same sign as the integral term.</li>
</ol>
<h3 id="33-control-loop-timing">3.3 Control Loop Timing</h3>
<h4 id="sampling-rate-relative-to-system-dynamics">Sampling Rate Relative to System Dynamics</h4>
<ul>
<li><strong>Nyquist Criterion:</strong> Sampling should be at least twice the highest frequency of interest.</li>
<li><strong>Rule of Thumb:</strong> The sampling rate is often set to 10–20 times the dominant bandwidth of the system, ensuring that all relevant dynamics are captured without introducing excessive noise.</li>
</ul>
<h4 id="real-time-constraints">Real-Time Constraints</h4>
<ul>
<li><strong>Deterministic Execution:</strong> The control loop must run at fixed intervals with minimal jitter.</li>
<li><strong>Implementation:</strong> Real-time operating systems (RTOS) or hardware timers in microcontrollers are typically used to maintain consistent loop timing.</li>
<li><strong>Trade-offs:</strong> Faster control loops increase responsiveness but can also introduce more noise and higher computational load.</li>
</ul>
<h3 id="4-example-pid-structure-pseudocode">4. Example PID Structure (Pseudocode)</h3>
<p>Below is a sample pseudocode for a PID controller implementation:
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Define PID Gains</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">Kp</span> <span class="o">=</span> <span class="mf">1.0</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">Ki</span> <span class="o">=</span> <span class="mf">0.5</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">Kd</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="c1"># Controller state variables</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="n">integral</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="n">prev_error</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="n">Ts</span> <span class="o">=</span> <span class="mf">0.01</span>  <span class="c1"># Sampling period (e.g., 100 Hz)</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="c1"># Control loop (runs every Ts seconds)</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    <span class="c1"># 1. Read sensor value</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    <span class="n">measured_value</span> <span class="o">=</span> <span class="n">read_sensor</span><span class="p">()</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>    <span class="c1"># 2. Compute error between setpoint and measurement</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>    <span class="n">error</span> <span class="o">=</span> <span class="n">setpoint</span> <span class="o">-</span> <span class="n">measured_value</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>    <span class="c1"># 3. Update the integral term</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>    <span class="n">integral</span> <span class="o">+=</span> <span class="n">error</span> <span class="o">*</span> <span class="n">Ts</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>    <span class="c1"># 4. Compute the derivative term</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>    <span class="n">derivative</span> <span class="o">=</span> <span class="p">(</span><span class="n">error</span> <span class="o">-</span> <span class="n">prev_error</span><span class="p">)</span> <span class="o">/</span> <span class="n">Ts</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>    <span class="c1"># 5. Compute the PID output</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>    <span class="n">control_output</span> <span class="o">=</span> <span class="n">Kp</span> <span class="o">*</span> <span class="n">error</span> <span class="o">+</span> <span class="n">Ki</span> <span class="o">*</span> <span class="n">integral</span> <span class="o">+</span> <span class="n">Kd</span> <span class="o">*</span> <span class="n">derivative</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>    <span class="c1"># 6. Apply saturation limits (e.g., motor voltage limits) and implement anti-windup if necessary</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>    <span class="n">saturation_limit</span> <span class="o">=</span> <span class="mi">255</span>  <span class="c1"># Example: 8-bit actuator value limit</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>    <span class="k">if</span> <span class="n">control_output</span> <span class="o">&gt;</span> <span class="n">saturation_limit</span><span class="p">:</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>        <span class="n">control_output</span> <span class="o">=</span> <span class="n">saturation_limit</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>        <span class="c1"># Optionally apply anti-windup mechanism here</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>    <span class="k">elif</span> <span class="n">control_output</span> <span class="o">&lt;</span> <span class="o">-</span><span class="n">saturation_limit</span><span class="p">:</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>        <span class="n">control_output</span> <span class="o">=</span> <span class="o">-</span><span class="n">saturation_limit</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>        <span class="c1"># Optionally apply anti-windup mechanism here</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>    <span class="c1"># 7. Output command to actuator</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>    <span class="n">write_actuator</span><span class="p">(</span><span class="n">control_output</span><span class="p">)</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a>    <span class="c1"># 8. Update previous error for the next iteration</span>
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a>    <span class="n">prev_error</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a>    <span class="c1"># 9. Wait until the next sampling period (e.g., using a timer or sleep)</span>
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">Ts</span><span class="p">)</span>
</span></code></pre></div></p>
<h2 id="5-key-takeaways">5. Key Takeaways</h2>
<ol>
<li><strong>Balancing the Terms:</strong></li>
<li><strong>Proportional (<span class="arithmatex">\(K_p\)</span>)</strong>: Adjusts the control output proportionally to the current error.</li>
<li><strong>Integral (<span class="arithmatex">\(K_i\)</span>)</strong>: Addresses accumulated past errors to eliminate steady-state error, but care must be taken to avoid integrator windup.</li>
<li>
<p><strong>Derivative (<span class="arithmatex">\(K_d\)</span>)</strong>: Predicts future error trends to dampen oscillations, requiring filtering to manage noise sensitivity.</p>
</li>
<li>
<p><strong>Implementation Considerations:</strong></p>
</li>
<li>Discrete approximations for the integral and derivative terms must be carefully designed to reflect the desired continuous behavior.</li>
<li>Implement strategies to prevent integrator windup when the actuator saturates.</li>
<li>
<p>The control loop should run at a frequency high enough to accurately capture system dynamics (typically 10–20× the dominant frequency), while maintaining real-time execution.</p>
</li>
<li>
<p><strong>Real-World Challenges:</strong></p>
</li>
<li>Sensor noise, actuator limits, communication delays, and computational constraints all affect the performance of a PID controller.</li>
<li>Proper tuning of PID gains is crucial for maintaining system stability and achieving desired performance.</li>
</ol>
<hr />
<h2 id="state-space-control">State-Space Control</h2>
<h3 id="1-what-is-state-space-control">1. What is State-Space Control?</h3>
<p><strong>State-space control</strong> models a physical system using a set of <strong>first-order differential (or difference) equations</strong>. Instead of focusing solely on the system's output, it treats the internal state of the system as a vector, which can be estimated and controlled.</p>
<p>This approach is especially useful for:
- <strong>Multi-variable systems</strong> (multiple inputs and outputs)
- Systems with <strong>internal constraints or dynamics</strong>
- Advanced control techniques such as <strong>LQR, pole placement, observers, and MPC</strong></p>
<h3 id="21-continuous-time-state-space-representation">2.1 Continuous-Time State-Space Representation</h3>
<div class="arithmatex">\[
\dot{x}(t) = A x(t) + B u(t) \\
y(t) = C x(t) + D u(t)
\]</div>
<p>Where:
- <span class="arithmatex">\(x(t) \in \mathbb{R}^n\)</span>: state vector (e.g., position, velocity, temperature)
- <span class="arithmatex">\(u(t) \in \mathbb{R}^m\)</span>: input/control vector
- <span class="arithmatex">\(y(t) \in \mathbb{R}^p\)</span>: output vector
- <span class="arithmatex">\(A \in \mathbb{R}^{n \times n}\)</span>: system dynamics matrix
- <span class="arithmatex">\(B \in \mathbb{R}^{n \times m}\)</span>: input matrix
- <span class="arithmatex">\(C \in \mathbb{R}^{p \times n}\)</span>: output matrix
- <span class="arithmatex">\(D \in \mathbb{R}^{p \times m}\)</span>: feedthrough matrix</p>
<h3 id="22-discrete-time-state-space-representation">2.2 Discrete-Time State-Space Representation</h3>
<div class="arithmatex">\[
x[k+1] = A x[k] + B u[k] \\
y[k] = C x[k] + D u[k]
\]</div>
<hr />
<h3 id="3-state-feedback-control">3. State Feedback Control</h3>
<p>The goal is to design a control law:</p>
<div class="arithmatex">\[
u(t) = -K x(t) + r(t)
\]</div>
<ul>
<li><span class="arithmatex">\(K \in \mathbb{R}^{m \times n}\)</span>: <strong>state feedback gain matrix</strong></li>
<li><span class="arithmatex">\(r(t)\)</span>: optional reference signal</li>
</ul>
<p>This means the control input is computed from the full state <span class="arithmatex">\(x(t)\)</span>. The matrix <span class="arithmatex">\(K\)</span> is designed to place the <strong>closed-loop poles</strong> (eigenvalues of <span class="arithmatex">\(A - BK\)</span>) in desired locations in the complex plane.</p>
<h3 id="31-closed-loop-dynamics">3.1 Closed-Loop Dynamics</h3>
<div class="arithmatex">\[
\dot{x}(t) = (A - BK) x(t)
\]</div>
<hr />
<h3 id="4-designing-the-gain-matrix-k">4. Designing the Gain Matrix <span class="arithmatex">\(K\)</span></h3>
<h4 id="pole-placement">Pole Placement</h4>
<ul>
<li>Choose desired closed-loop poles.</li>
<li>Solve for <span class="arithmatex">\(K\)</span> such that <span class="arithmatex">\(\text{eig}(A - BK) =\)</span> desired poles.</li>
<li>Works if the system is <strong>controllable</strong>.</li>
</ul>
<h4 id="linear-quadratic-regulator-lqr">Linear Quadratic Regulator (LQR)</h4>
<p>Minimizes a cost function:</p>
<div class="arithmatex">\[
J = \int_0^\infty \left( x(t)^T Q x(t) + u(t)^T R u(t) \right) dt
\]</div>
<p>Where:
- <span class="arithmatex">\(Q\)</span>: state penalty matrix (positive semi-definite)
- <span class="arithmatex">\(R\)</span>: control penalty matrix (positive definite)</p>
<p>LQR finds the optimal <span class="arithmatex">\(K\)</span> that minimizes <span class="arithmatex">\(J\)</span>.</p>
<h3 id="5-state-estimation-and-observers">5. State Estimation and Observers</h3>
<p>In many cases, <strong>not all states are measurable</strong>. Instead, an <strong>observer</strong> (or <strong>state estimator</strong>) is used to estimate <span class="arithmatex">\(x(t)\)</span> from the output <span class="arithmatex">\(y(t)\)</span>.</p>
<h3 id="51-luenberger-observer">5.1 Luenberger Observer</h3>
<div class="arithmatex">\[
\hat{x}'(t) = A \hat{x}(t) + B u(t) + L (y(t) - C \hat{x}(t))
\]</div>
<ul>
<li><span class="arithmatex">\(\hat{x}(t)\)</span>: estimated state</li>
<li><span class="arithmatex">\(L\)</span>: observer gain</li>
</ul>
<p><strong>Intuition</strong>
- Used to estimate aspects of the state that aren't directly measureable
- For example, used to estimate velocity when only position is directly measured
- Does not account of process or sensor uncertainty</p>
<h3 id="52-kalman-filter">5.2 Kalman Filter</h3>
<p><strong>Prediction Step</strong></p>
<p>Uses the system's model to predict the next state and its uncertainty.</p>
<div class="arithmatex">\[
\hat{x}_{k|k-1} = A \hat{x}_{k-1|k-1} + B u_{k-1}
$$
$$
P_{k|k-1} = A P_{k-1|k-1} A^T + Q
\]</div>
<ul>
<li><span class="arithmatex">\(\hat{x}_{k|k-1}\)</span>: predicted state at time <span class="arithmatex">\( k \)</span>  </li>
<li><span class="arithmatex">\(P_{k|k-1}\)</span>: predicted error covariance  </li>
<li><span class="arithmatex">\(Q\)</span>: process noise covariance  </li>
</ul>
<p><strong>Update (Correction) Step</strong></p>
<p>Incorporates the measurement to update the state estimate and reduce uncertainty.</p>
<div class="arithmatex">\[
K_k = P_{k|k-1} C^T (C P_{k|k-1} C^T + R)^{-1}
$$
$$
\hat{x}_{k|k} = \hat{x}_{k|k-1} + K_k (y_k - C \hat{x}_{k|k-1})
$$
$$
P_{k|k} = (I - K_k C) P_{k|k-1}
\]</div>
<ul>
<li><span class="arithmatex">\(K_k\)</span>: Kalman gain — balances model vs. measurement  </li>
<li><span class="arithmatex">\(y_k\)</span>: actual measurement at time <span class="arithmatex">\(k\)</span></li>
<li><span class="arithmatex">\(R\)</span>: measurement noise covariance  </li>
</ul>
<p><strong>Intuition</strong></p>
<ul>
<li>If your <strong>model is very accurate</strong>, the filter trusts it more.</li>
<li>If your <strong>measurements are very accurate</strong>, the filter gives them more weight.</li>
<li>The Kalman gain <span class="arithmatex">\(K_k\)</span> determines how much to correct based on the uncertainty in the prediction and the measurement.</li>
</ul>
<h3 id="6-practical-implications-for-cps">6. Practical Implications for CPS</h3>
<ul>
<li><strong>Higher Design Overhead</strong>: Requires accurate system modeling.</li>
<li><strong>Stronger Performance</strong>: Better control of transient and steady-state behavior.</li>
<li><strong>Hardware Requirements</strong>: Slightly more computationally intensive than PID, but easily handled by most microcontrollers for modest state sizes.</li>
<li><strong>Reference Tracking</strong>: Often implemented with a feedforward term to ensure the system follows a reference trajectory correctly.</li>
</ul>
<div class="arithmatex">\[
u(t) = -Kx(t) + K_r r(t)
\]</div>
<p>Where <span class="arithmatex">\(K_r\)</span> is calculated to eliminate steady-state error.</p>
<h3 id="7-extensions">7. Extensions</h3>
<ul>
<li><strong>Kalman Filter</strong>: Optimal observer under Gaussian noise.</li>
<li><strong>Model Predictive Control (MPC)</strong>: Solves a constrained optimization problem in real time using state-space dynamics.</li>
<li><strong>Nonlinear State-Space Control</strong>: For systems that violate linear assumptions (e.g., feedback linearization, Lyapunov-based methods).</li>
</ul>
<h3 id="summary">Summary</h3>
<p>State-space control offers a comprehensive, scalable approach to feedback control—particularly well-suited for complex or multi-variable systems found in modern cyber-physical systems. While it requires more upfront modeling effort than PID, it provides superior tools for managing internal dynamics, optimizing performance, and integrating state estimation into feedback loops. It forms the foundation of many advanced control strategies used in robotics, aerospace, automotive systems, and industrial automation.</p>
<hr />
<h3 id="3-adaptive-control">3. Adaptive Control</h3>
<ul>
<li>Controller parameters adjust in real time.</li>
<li>Handles changes in system dynamics or operating conditions.</li>
</ul>
<h3 id="4-robust-control">4. Robust Control</h3>
<ul>
<li>Designed to tolerate bounded modeling uncertainties.</li>
<li>Examples: H-infinity control, μ-synthesis.</li>
<li>Used in safety-critical CPS applications.</li>
</ul>
<h3 id="5-model-predictive-control-mpc">5. Model Predictive Control (MPC)</h3>
<ul>
<li>Predicts future behavior over a time horizon using a model.</li>
<li>Optimizes a cost function subject to constraints.</li>
<li>High computational load; used in advanced CPS like autonomous vehicles.</li>
</ul>
<h3 id="6-event-based-or-self-triggered-control">6. Event-Based or Self-Triggered Control</h3>
<ul>
<li>Updates only when needed based on certain conditions.</li>
<li>Reduces computation and communication load in embedded networks.</li>
</ul>
<h3 id="7-distributed-or-decentralized-control">7. Distributed or Decentralized Control</h3>
<ul>
<li>Multiple controllers operate over subsystems or agents.</li>
<li>Suitable for large-scale CPS (e.g., smart grids, multi-robot systems).</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.breadcrumbs", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>